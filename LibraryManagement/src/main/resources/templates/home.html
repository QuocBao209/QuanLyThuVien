<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" th:href="@{/css/home.css}">
	<title>Thฦฐ viแปn ฤiแปn tแปญ</title>
</head>
<body>

	<header th:fragment="header">
	    <a href="/home" style="text-decoration: none; color: inherit; transform: translateY(-3px);">
	        ๐ Thฦฐ viแปn ฤiแปn tแปญ
	    </a>
	    <nav>
	        <ul>
	            <li><a href="/home">Trang chแปง</a></li>
	            <li><a href="/home/account">Tรi khoแบฃn</a></li>
	            <li><a href="/home/book-filter">Danh sรกch thฦฐ viแปn</a></li>
	            <li><a href="#">Liรชn hแป</a></li>
	        </ul>
	
	        <div class="notification-wrapper">
	            <div class="notification-btn" onclick="toggleNotificationDropdown()">
	                <svg viewBox="0 0 24 24">
	                    <path fill="white" d="M12 2C10.3 2 9 3.3 9 5V5.1C6.2 6.2 4.3 8.9 4.3 12V17L3 18.5V19H21V18.5L19.7 17V12C19.7 8.9 17.8 6.2 15 5.1V5C15 3.3 13.7 2 12 2ZM12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.9 22 12 22Z"/>
	                </svg>
	                <span id="notification-count" class="badge" th:if="${unreadCount > 0}" th:text="${unreadCount}"></span>
	            </div>
	
	            <div id="notification-container" class="notification-container hidden">
	                <h3>Thรดng bรกo</h3>
	                <ul class="notification-list">
	                    <li th:each="notification : ${notifications}" 
	                        th:classappend="${!notification.isRead} ? 'unread'" 
	                        th:data-id="${notification.id}"
	                        onclick="markAsRead(this)">
	                        <div class="notification-box">
	                            <div class="message" th:text="${notification.message}"></div>
	                            <div class="time" th:text="${#temporals.format(notification.createdAt, 'dd/MM/yyyy HH:mm')}"></div>
	                        </div>
	                        <form th:id="'form-' + ${notification.id}" method="post" action="/home/mark-notification-read">
	                            <input type="hidden" name="notificationId" th:value="${notification.id}">
	                            <input type="hidden" name="redirectUrl" th:value="${currentUrl}">
	                        </form>
	                    </li>
	                </ul>
	                <div class="view-all">
	                    <a href="/home/notifications">Xem tแบฅt cแบฃ</a>
	                </div>
	            </div>
	        </div>
	    </nav>
	</header>
	
	<!-- Hero Section -->
	<section class="hero">
		<h1>Chรo mแปซng ฤแบฟn vแปi Thฦฐ viแปn ฤiแปn Tแปญ</h1>
		<p>Khรกm phรก hรng ngรn ฤแบงu sรกch miแปn phรญ mแปi lรบc, mแปi nฦกi</p>
		<button class="cta-btn">Tรฌm kiแบฟm sรกch ngay</button>
	</section>
	
	<!-- Danh mแปฅc sรกch nแปi bแบญt -->
	<section class="book-categories">
		<h2>Sรกch Nแปi Bแบญt</h2>
		<div class="book-list">
			<form action="/home/latest-book" method="get">
				<button class="book" name="bookType" value="Sรกch mแปi nhแบฅt">๐ Sรกch mแปi nhแบฅt</button>
			</form>
			<div class="filter-list">
				<form action="/home/book-filter" method="get">
					<button class="book" name="bookType" value="Sรกch theo chแปง ฤแป">๐ Sรกch theo chแปง ฤแป</button>
				</form>
				<div class="book-highlight">๐ข Xem tแบฅt cแบฃ sรกch tแบกi ฤรขy!</div> <!-- Dรฒng chแปฏ luรดn hiแปn thแป -->
			</div>
			<form action="/home/best-book" method="get">
				<button class="book" name="bookType" value="Sรกch ฤแปc nhiแปu">๐ Sรกch ฤแปc nhiแปu</button>
			</form>
		</div>
	</section>
	
	<!-- Gรณc ฤแปc giแบฃ -->
	<section class="reader-corner">
		<h2>Gรณc ฤแปc giแบฃ</h2>
		<p>Cแบฃm nhแบญn vร ฤรกnh giรก tแปซ ฤแปc giแบฃ</p>
		<div class="reviews">
			<div class="review">โThฦฐ viแปn tuyแปt vแปi, nhiแปu sรกch hay!โ - An</div>
			<div class="review">โTรฌm kiแบฟm dแป dรng, giao diแปn ฤแบนp!โ - Bรฌnh</div>
		</div>
	</section>
	
	<!-- Footer -->
	<footer th:fragment="footer">
		<p>&copy; 2025 Thฦฐ viแปn ฤiแปn tแปญ. Mแปi quyแปn ฤฦฐแปฃc bแบฃo lฦฐu.</p>
	</footer>
	
	<script th:src="@{/js/notification.js}"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" th:href="@{/css/home.css}">
	<title>ThÆ° viá»‡n Ä‘iá»‡n tá»­</title>
</head>
<body>

	<header th:fragment="header">
		<a href="/home" style="text-decoration: none; color: inherit;">
			ğŸ“š ThÆ° viá»‡n Äiá»‡n tá»­
		</a>
		<nav>
			<ul>
				<li><a href="/home">Trang chá»§</a></li>
				<li><a href="/home/account">TÃ i khoáº£n</a></li>
				<li><a href="/home/book-filter">Danh sÃ¡ch thÆ° viá»‡n</a></li>
				<li><a href="#">LiÃªn há»‡</a></li>
			</ul>
		</nav>

		<div class="notification">
			<div class="notification-wrapper">
				<div class="notification">
					<svg viewBox="0 0 24 24">
						<path d="M12 2C10.3 2 9 3.3 9 5V5.1C6.2 6.2 4.3 8.9 4.3 12V17L3 18.5V19H21V18.5L19.7 17V12C19.7 8.9 17.8 6.2 15 5.1V5C15 3.3 13.7 2 12 2ZM12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.9 22 12 22Z"/>
					</svg>
					<span th:text="${notifications != null and #lists.size(notifications) > 99 ? '99+' : (notifications != null ? #lists.size(notifications) : '0')}"></span>
				</div>

				<!-- Danh sÃ¡ch thÃ´ng bÃ¡o -->
				<div class="notification-dropdown">
					<ul>
						<li th:each="notification : ${notifications}" th:text="${notification.message}"></li>
					</ul>
				</div>
			</div>
		</div>




			<div class="notification-wrapper">
			    <div class="notification-btn">
			        <svg viewBox="0 0 24 24">
			            <path fill="white" d="M12 2C10.3 2 9 3.3 9 5V5.1C6.2 6.2 4.3 8.9 4.3 12V17L3 18.5V19H21V18.5L19.7 17V12C19.7 8.9 17.8 6.2 15 5.1V5C15 3.3 13.7 2 12 2ZM12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.9 22 12 22Z"/>
			        </svg>
			        <!-- Hiá»‡n sá»‘ lÆ°á»£ng thÃ´ng bÃ¡o -->
			        <span class="badge" th:if="${notifications != null and notifications.size() > 0}" th:text="${notifications.size()}"></span>
			    </div>

			    <!-- Dropdown thÃ´ng bÃ¡o -->
			    <div id="notification-container" class="notification-container">
			        <h3>ThÃ´ng bÃ¡o</h3>
			        <!-- Hiá»‡n danh sÃ¡ch thÃ´ng bÃ¡o -->
			        <ul>
			            <li th:each="notification : ${notifications}">
			                <a href="#" class="notification-item" th:text="${notification.message}"></a> <!-- Äang gáº¯n tháº» a táº¡m thÃ´i -->
			            </li>
			        </ul>
			        <div class="view-all">
			            <a href="/home/notifications">Xem táº¥t cáº£</a> <!-- ChÆ°a lÃ m view (khoan test) -->
			        </div>
			    </div>
			</div>
		</nav>
	</header>
	
	<!-- Hero Section -->
	<section class="hero">
		<h1>ChÃ o má»«ng Ä‘áº¿n vá»›i ThÆ° viá»‡n Äiá»‡n Tá»­</h1>
		<p>KhÃ¡m phÃ¡ hÃ ng ngÃ n Ä‘áº§u sÃ¡ch miá»…n phÃ­ má»i lÃºc, má»i nÆ¡i</p>
		<button class="cta-btn">TÃ¬m kiáº¿m sÃ¡ch ngay</button>
	</section>
	
	<!-- Danh má»¥c sÃ¡ch ná»•i báº­t -->
    <section class="book-categories">
        <h2>SÃ¡ch Ná»•i Báº­t</h2>
        <div class="book-list">
		    <form action="/home/latest-book" method="get">
		        <button class="book" name="bookType" value="SÃ¡ch má»›i nháº¥t">ğŸ“– SÃ¡ch má»›i nháº¥t</button>
		    </form>
		    <div class="filter-list">
			    <form action="/home/book-filter" method="get">
			        <button class="book" name="bookType" value="SÃ¡ch theo chá»§ Ä‘á»">ğŸ“™ SÃ¡ch theo chá»§ Ä‘á»</button>
			    </form>
			    <div class="book-highlight">ğŸ“¢ Xem táº¥t cáº£ sÃ¡ch táº¡i Ä‘Ã¢y!</div> <!-- DÃ²ng chá»¯ luÃ´n hiá»ƒn thá»‹ -->
		    </div>
		    <form action="/home/best-book" method="get">
		        <button class="book" name="bookType" value="SÃ¡ch Ä‘á»c nhiá»u">ğŸ“˜ SÃ¡ch Ä‘á»c nhiá»u</button>
		    </form>
		</div>
    </section>

    <!-- GÃ³c Ä‘á»™c giáº£ -->
    <section class="reader-corner">
        <h2>GÃ³c Ä‘á»™c giáº£</h2>
        <p>Cáº£m nháº­n vÃ  Ä‘Ã¡nh giÃ¡ tá»« Ä‘á»™c giáº£</p>
        <div class="reviews">
            <div class="review">â€œThÆ° viá»‡n tuyá»‡t vá»i, nhiá»u sÃ¡ch hay!â€ - An</div>
            <div class="review">â€œTÃ¬m kiáº¿m dá»… dÃ ng, giao diá»‡n Ä‘áº¹p!â€ - BÃ¬nh</div>
        </div>
    </section>

    <!-- Footer -->
    <footer th:fragment="footer">
        <p>&copy; 2025 ThÆ° viá»‡n Äiá»‡n tá»­. Má»i quyá»n Ä‘Æ°á»£c báº£o lÆ°u.</p>
    </footer>
</body>
 <script>
	 document.addEventListener("DOMContentLoaded", function () {
		    document.addEventListener("click", function (event) {
		        var notificationContainer = document.getElementById("notification-container");
		        var notificationBtn = document.querySelector(".notification-btn");

		        // Kiá»ƒm tra náº¿u click náº±m ngoÃ i thÃ´ng bÃ¡o vÃ  nÃºt thÃ´ng bÃ¡o
		        if (!notificationContainer.contains(event.target) && !notificationBtn.contains(event.target)) {
		            notificationContainer.style.display = "none";
		        }
		    });

		    document.querySelector(".notification-btn").addEventListener("click", function (event) {
		        event.stopPropagation(); // NgÄƒn cháº·n sá»± kiá»‡n click lan ra ngoÃ i
		        var container = document.getElementById("notification-container");
		        container.style.display = (container.style.display === "block") ? "none" : "block";
		    });
		});

</script>
</html>
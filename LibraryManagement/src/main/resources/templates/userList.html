<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh s√°ch ƒë·ªôc gi·∫£</title>
    <link rel="stylesheet" th:href="@{/css/userList.css}">
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>
	<!-- Sidebar -->
	<div th:replace="admin :: sidebar"></div>

	<!-- Danh s√°ch ƒë·ªôc gi·∫£ -->
	<div class="container">
		<h2>Danh s√°ch ƒë·ªôc gi·∫£</h2>

		<form th:action="@{/admin/user-list}" method="post" class="search-container">
			<input type="text" name="keyword" placeholder="Nh·∫≠p t√™n ho·∫∑c email ƒë·ªôc gi·∫£ ..." />
			<button type="submit" class="search-btn">üîç T√¨m ki·∫øm</button>
		</form>


		<table>
			<thead>
				<tr>
					<th>ID</th>
                    <th>H·ªç T√™n</th>
                    <th>Email</th>
                    <th>S·ªë ƒëi·ªán tho·∫°i</th>
                    <th>Tr·∫°ng Th√°i</th>
                    <th>H√†nh ƒê·ªông</th>
                    <th>M∆∞·ª£n-Tr·∫£</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="user : ${users}">
					<td th:text="${user.userId}"></td>
					<td th:text="${user.name}"></td>
					<td th:text="${user.email}"></td>
					<td th:text="${user.phone}"></td>
					<td>
					    <select class="status-select" th:data-user-id="${user.userId}"
					            th:classappend="${user.status == 'Ho·∫°t ƒë·ªông' ? 'status-active' : 'status-locked'}"
					            onchange="changeSelectStyle(this)">
					        <option value="Ho·∫°t ƒë·ªông" th:selected="${user.status == 'Ho·∫°t ƒë·ªông'}">Ho·∫°t ƒë·ªông</option>
					        <option value="Kh√≥a" th:selected="${user.status == 'Kh√≥a'}">Kh√≥a</option>
					    </select>
					</td>
		            <td>
		                <button type="button" class="edit-btn">‚úèÔ∏è S·ª≠a</button>
		            </td>
		            <td>
		            	<form th:action="@{/admin/borrow_return_view}" method="post">
		            		<button type="submit" class="history-btn">Xem l·ªãch s·ª≠</button>
		            	</form>
		            </td>
				</tr>
			</tbody>
		</table>
	</div>
</body>
<script>
function changeSelectStyle(selectElement) {
    if (selectElement.value === "Ho·∫°t ƒë·ªông") {
        selectElement.classList.remove("status-locked");
        selectElement.classList.add("status-active");
    } else {
        selectElement.classList.remove("status-active");
        selectElement.classList.add("status-locked");
    }
}
</script>
</html>